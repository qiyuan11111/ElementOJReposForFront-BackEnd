(function(t){function e(e){for(var o,a,s=e[0],_=e[1],c=e[2],l=0,p=[];l<s.length;l++)a=s[l],Object.prototype.hasOwnProperty.call(r,a)&&r[a]&&p.push(r[a][0]),r[a]=0;for(o in _)Object.prototype.hasOwnProperty.call(_,o)&&(t[o]=_[o]);u&&u(e);while(p.length)p.shift()();return i.push.apply(i,c||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],o=!0,s=1;s<n.length;s++){var _=n[s];0!==r[_]&&(o=!1)}o&&(i.splice(e--,1),t=a(a.s=n[0]))}return t}var o={},r={login:0},i=[];function a(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,a),n.l=!0,n.exports}a.m=t,a.c=o,a.d=function(t,e,n){a.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},a.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},a.t=function(t,e){if(1&e&&(t=a(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)a.d(n,o,function(e){return t[e]}.bind(null,o));return n},a.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return a.d(e,"a",e),e},a.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},a.p="";var s=window["webpackJsonp"]=window["webpackJsonp"]||[],_=s.push.bind(s);s.push=e,s=s.slice();for(var c=0;c<s.length;c++)e(s[c]);var u=_;i.push([2,"chunk-vendors","chunk-common"]),n()})({2:function(t,e,n){t.exports=n("a8ec")},"2ba1":function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));n("99af");var o=0,r=8;function i(t){return f(a(g(t),t.length*r))}function a(t,e){t[e>>5]|=128<<e%32,t[14+(e+64>>>9<<4)]=e;for(var n=1732584193,o=-271733879,r=-1732584194,i=271733878,a=0;a<t.length;a+=16){var s=n,O=o,g=r,f=i;n=_(n,o,r,i,t[a+0],7,-680876936),i=_(i,n,o,r,t[a+1],12,-389564586),r=_(r,i,n,o,t[a+2],17,606105819),o=_(o,r,i,n,t[a+3],22,-1044525330),n=_(n,o,r,i,t[a+4],7,-176418897),i=_(i,n,o,r,t[a+5],12,1200080426),r=_(r,i,n,o,t[a+6],17,-1473231341),o=_(o,r,i,n,t[a+7],22,-45705983),n=_(n,o,r,i,t[a+8],7,1770035416),i=_(i,n,o,r,t[a+9],12,-1958414417),r=_(r,i,n,o,t[a+10],17,-42063),o=_(o,r,i,n,t[a+11],22,-1990404162),n=_(n,o,r,i,t[a+12],7,1804603682),i=_(i,n,o,r,t[a+13],12,-40341101),r=_(r,i,n,o,t[a+14],17,-1502002290),o=_(o,r,i,n,t[a+15],22,1236535329),n=c(n,o,r,i,t[a+1],5,-165796510),i=c(i,n,o,r,t[a+6],9,-1069501632),r=c(r,i,n,o,t[a+11],14,643717713),o=c(o,r,i,n,t[a+0],20,-373897302),n=c(n,o,r,i,t[a+5],5,-701558691),i=c(i,n,o,r,t[a+10],9,38016083),r=c(r,i,n,o,t[a+15],14,-660478335),o=c(o,r,i,n,t[a+4],20,-405537848),n=c(n,o,r,i,t[a+9],5,568446438),i=c(i,n,o,r,t[a+14],9,-1019803690),r=c(r,i,n,o,t[a+3],14,-187363961),o=c(o,r,i,n,t[a+8],20,1163531501),n=c(n,o,r,i,t[a+13],5,-1444681467),i=c(i,n,o,r,t[a+2],9,-51403784),r=c(r,i,n,o,t[a+7],14,1735328473),o=c(o,r,i,n,t[a+12],20,-1926607734),n=u(n,o,r,i,t[a+5],4,-378558),i=u(i,n,o,r,t[a+8],11,-2022574463),r=u(r,i,n,o,t[a+11],16,1839030562),o=u(o,r,i,n,t[a+14],23,-35309556),n=u(n,o,r,i,t[a+1],4,-1530992060),i=u(i,n,o,r,t[a+4],11,1272893353),r=u(r,i,n,o,t[a+7],16,-155497632),o=u(o,r,i,n,t[a+10],23,-1094730640),n=u(n,o,r,i,t[a+13],4,681279174),i=u(i,n,o,r,t[a+0],11,-358537222),r=u(r,i,n,o,t[a+3],16,-722521979),o=u(o,r,i,n,t[a+6],23,76029189),n=u(n,o,r,i,t[a+9],4,-640364487),i=u(i,n,o,r,t[a+12],11,-421815835),r=u(r,i,n,o,t[a+15],16,530742520),o=u(o,r,i,n,t[a+2],23,-995338651),n=l(n,o,r,i,t[a+0],6,-198630844),i=l(i,n,o,r,t[a+7],10,1126891415),r=l(r,i,n,o,t[a+14],15,-1416354905),o=l(o,r,i,n,t[a+5],21,-57434055),n=l(n,o,r,i,t[a+12],6,1700485571),i=l(i,n,o,r,t[a+3],10,-1894986606),r=l(r,i,n,o,t[a+10],15,-1051523),o=l(o,r,i,n,t[a+1],21,-2054922799),n=l(n,o,r,i,t[a+8],6,1873313359),i=l(i,n,o,r,t[a+15],10,-30611744),r=l(r,i,n,o,t[a+6],15,-1560198380),o=l(o,r,i,n,t[a+13],21,1309151649),n=l(n,o,r,i,t[a+4],6,-145523070),i=l(i,n,o,r,t[a+11],10,-1120210379),r=l(r,i,n,o,t[a+2],15,718787259),o=l(o,r,i,n,t[a+9],21,-343485551),n=p(n,s),o=p(o,O),r=p(r,g),i=p(i,f)}return Array(n,o,r,i)}function s(t,e,n,o,r,i){return p(O(p(p(e,t),p(o,i)),r),n)}function _(t,e,n,o,r,i,a){return s(e&n|~e&o,t,e,r,i,a)}function c(t,e,n,o,r,i,a){return s(e&o|n&~o,t,e,r,i,a)}function u(t,e,n,o,r,i,a){return s(e^n^o,t,e,r,i,a)}function l(t,e,n,o,r,i,a){return s(n^(e|~o),t,e,r,i,a)}function p(t,e){var n=(65535&t)+(65535&e),o=(t>>16)+(e>>16)+(n>>16);return o<<16|65535&n}function O(t,e){return t<<e|t>>>32-e}function g(t){for(var e=Array(),n=(1<<r)-1,o=0;o<t.length*r;o+=r)e[o>>5]|=(t.charCodeAt(o/r)&n)<<o%32;return e}function f(t){for(var e=o?"0123456789ABCDEF":"0123456789abcdef",n="",r=0;r<4*t.length;r++)n+=e.charAt(t[r>>2]>>r%4*8+4&15)+e.charAt(t[r>>2]>>r%4*8&15);return n}},4863:function(t,e,n){"use strict";var o=n("9dc8"),r=n.n(o);r.a},"9dc8":function(t,e,n){},a8ec:function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var o=n("a026"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticStyle:{"padding-top":"200px","padding-right":"550px","padding-left":"550px",opacity:"0.8"},attrs:{id:"login"}},[n("loadings"),n("el-card",{staticClass:"box-card",attrs:{id:"login-card"}},[n("form",[n("div",{staticStyle:{"margin-top":"25px","margin-bottom":"25px"}},[n("el-input",{attrs:{placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginsubmit(e)}},model:{value:t.inputs.account,callback:function(e){t.$set(t.inputs,"account",e)},expression:"inputs.account"}},[n("template",{slot:"prepend"},[t._v("用户名")])],2)],1),n("div",{staticStyle:{"margin-top":"30px","margin-bottom":"25px"}},[n("el-input",{attrs:{type:"password",placeholder:"请输入内容"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.loginsubmit(e)}},model:{value:t.inputs.password,callback:function(e){t.$set(t.inputs,"password",e)},expression:"inputs.password"}},[n("template",{slot:"prepend"},[n("span",{staticStyle:{"white-space":"pre"}},[t._v("密码"+t._s("\t")+t._s(" ")+t._s(" "))])])],2)],1),n("span",{staticStyle:{"white-space":"pre",color:"red","font-weight":"bold"}},[t._v(t._s(t.login_result.login_info))]),n("div",{staticStyle:{"text-align":"center","margin-top":"15px","margin-bottom":"10px"}},[n("el-button",{attrs:{type:"primary"},on:{click:t.loginsubmit}},[t._v("登录")])],1)])])],1)},i=[],a=n("b81a"),s=a["a"],_=(n("4863"),n("2877")),c=Object(_["a"])(s,r,i,!1,null,"3acbb8d4",null),u=c.exports,l=n("a925"),p=n("8c4f");o["a"].use(p["a"]);var O=[{path:"/login",name:"login",meta:{title:"client 登录"}}],g=new p["a"]({mode:"hash",routes:O}),f=n("edad"),d=n("2cd5");o["a"].config.productionTip=!1,o["a"].prototype.GLOBAL=f["a"],o["a"].use(l["a"]);var E=new l["a"]({locale:f["a"].OJ_DEFAULT_LANG,messages:d["a"].messages});new o["a"]({i18n:E,router:g,render:function(t){return t(u)}}).$mount("#login")},b81a:function(t,e,n){"use strict";(function(t){n("d81d"),n("3495");var o=n("2cd5"),r=n("2ba1"),i=n("54a1");e["a"]={name:"login",components:{loadings:i["a"]},data:function(){return{page_setting:{access_token:"",refresh_token:"",language:""},inputs:{account:"",password:""},login_result:{has_error:!1,login_info:"　"}}},methods:{loginsubmit:function(){var e=this;this.login_result.has_error=!1,this.login_result.login_info="　",this.inputs.password=Object(r["a"])(this.inputs.password),this.$http.post(this.GLOBAL.OJ_DEFAULT_BACK_SERVE+"/admin/users/login",{account:this.inputs.account,password:this.inputs.password},{emulateJSON:!0,headers:{OJ_ACCESS_TOKEN:this.page_setting.access_token,OJ_REFRESH_TOKEN:this.page_setting.refresh_token}}).then((function(n){console.log(n);var r=n.body.OJ_ERROR_TYPE;r!=e.GLOBAL.OJ_ERROR_NO_ERROR&&(e.login_result.has_error=!0,e.inputs.password=""),r==e.GLOBAL.OJ_ERROR_IP_BE_BANNED?e.login_result.login_info=e.$t("WARN.OJ_MESSAGE_IP_BE_BANNED"):r==e.GLOBAL.OJ_ERROR_ACCOUNT_BE_BANNED?e.login_result.login_info=e.$t("WARN.OJ_MESSAGE_ACCOUNT_BE_BANNED"):r==e.GLOBAL.OJ_ERROR_NON_EXISTENT_ACCOUNT?(t("#account").focus(),e.login_result.login_info=e.$t("WARN.OJ_MESSAGE_NON_EXISTENT_ACCOUNT")):r==e.GLOBAL.OJ_ERROR_REPETED_ACCOUNT?(t("#account").focus(),e.error_message.account=e.$t("WARN.OJ_MESSAGE_REPETED_ACCOUNT")):r==e.GLOBAL.OJ_ERROR_ACCOUNT_BE_BANNED?e.login_result.login_info=e.$t("WARN.OJ_MESSAGE_ACCOUNT_BE_BANNED"):r==e.GLOBAL.OJ_ERROR_WRONG_PASSWORD?(t("#password").focus(),e.login_result.login_info=e.$t("WARN.OJ_MESSAGE_WRONG_PASSWORD")):r!=e.GLOBAL.OJ_ERROR_NO_ERROR&&(e.login_result.login_info="　");var i=n.body.OJ_USER_INFO.saved;if(0==e.login_result.has_error){var a=n.headers.map["oj_access_token"][0],s=n.headers.map["oj_refresh_token"][0];i?(o["a"].setCookieWithTime(e.GLOBAL.OJ_DEFAULT_NAME+"access_token",a,7),o["a"].setCookieWithTime(e.GLOBAL.OJ_DEFAULT_NAME+"refresh_token",s,7)):(o["a"].setCookie(e.GLOBAL.OJ_DEFAULT_NAME+"access_token",a),o["a"].setCookie(e.GLOBAL.OJ_DEFAULT_NAME+"refresh_token",s)),window.location.href=""}}),(function(t){console.log(t.body)}))}},created:function(){this.page_setting.access_token=o["a"].getCookie(this.GLOBAL.OJ_DEFAULT_NAME+"access_token"),this.page_setting.refresh_token=o["a"].getCookie(this.GLOBAL.OJ_DEFAULT_NAME+"refresh_token");var t=localStorage.getItem(this.GLOBAL.OJ_DEFAULT_NAME+"lang");null!=t&&(this.page_setting.language=t),this.$http.post(this.GLOBAL.OJ_DEFAULT_BACK_SERVE+"/admin/home/loginpage",{language:this.page_setting.language},{emulateJSON:!0,headers:{OJ_ACCESS_TOKEN:this.page_setting.access_token,OJ_REFRESH_TOKEN:this.page_setting.refresh_token}}).then((function(e){var n=e.body.OJ_ERROR_TYPE;n!=this.GLOBAL.OJ_ERROR_HAS_LOGIN?(t=e.body.OJ_LANGUAGE_TYPE,localStorage.setItem(this.GLOBAL.OJ_DEFAULT_NAME+"lang",t),this.$i18n.locale=t):window.history.go(-1)}),(function(){console.log("请求失败处理")}))}}}).call(this,n("1157"))}});
//# sourceMappingURL=login.9e9457da.js.map