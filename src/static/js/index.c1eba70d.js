(function(t){function e(e){for(var a,o,r=e[0],l=e[1],_=e[2],O=0,d=[];O<r.length;O++)o=r[O],Object.prototype.hasOwnProperty.call(n,o)&&n[o]&&d.push(n[o][0]),n[o]=0;for(a in l)Object.prototype.hasOwnProperty.call(l,a)&&(t[a]=l[a]);c&&c(e);while(d.length)d.shift()();return i.push.apply(i,_||[]),s()}function s(){for(var t,e=0;e<i.length;e++){for(var s=i[e],a=!0,r=1;r<s.length;r++){var l=s[r];0!==n[l]&&(a=!1)}a&&(i.splice(e--,1),t=o(o.s=s[0]))}return t}var a={},n={index:0},i=[];function o(e){if(a[e])return a[e].exports;var s=a[e]={i:e,l:!1,exports:{}};return t[e].call(s.exports,s,s.exports,o),s.l=!0,s.exports}o.m=t,o.c=a,o.d=function(t,e,s){o.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:s})},o.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},o.t=function(t,e){if(1&e&&(t=o(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var s=Object.create(null);if(o.r(s),Object.defineProperty(s,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)o.d(s,a,function(e){return t[e]}.bind(null,a));return s},o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,"a",e),e},o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o.p="";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],l=r.push.bind(r);r.push=e,r=r.slice();for(var _=0;_<r.length;_++)e(r[_]);var c=l;i.push([0,"chunk-vendors","chunk-common"]),s()})({0:function(t,e,s){t.exports=s("56d7")},"56d7":function(t,e,s){"use strict";s.r(e);s("e260"),s("e6cf"),s("cca6"),s("a79d");var a=s("a026"),n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{attrs:{id:"index"}},[s("loadings",{ref:"load"}),s("navbar",{attrs:{isActive:t.page_belong}}),s("div",{staticClass:"container mundb-standard-container"},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-sm-12 col-lg-8"},[s("div",{staticClass:"cm-title-section"},[s("h1",[t._v(t._s(t.$t("WARN.OJ_MESSAGE_WELCOME_TO_OJ")))]),s("version-badge",{staticClass:"mb-5"},[s("inline-div",[t._v("Version")]),s("inline-div",[t._v("0.3.2-48-gc106d2c")])],1)],1),t._m(0)]),s("div",{staticClass:"col-sm-12 col-lg-4"},[t._m(1),s("div",[s("timeline-container",t._l(t.news,(function(e){return s("timeline-item",{key:t.key,attrs:{"data-type":"notice"}},[s("div",[s("div",[t._v(t._s(e.publisherNick)+" "),s("span",{staticClass:"wemd-green-text"},[t._v("▸ "+t._s(t.diff_time(e.publishTime)))])]),s("div",[s("img",{staticClass:"cm-avatar",attrs:{src:"https://oj.ctguacm.work/image/ctgu.png"}})])]),s("div",[s("h5",[t._v(t._s(e.title))]),s("p"),s("p",{domProps:{innerHTML:t._s(t.short_news(e.content))}}),s("p")]),s("div",[s("button",{staticClass:"btn btn-info",staticStyle:{width:"100%"},attrs:{type:"button"},on:{click:function(s){return t.check_news(e.title,e.publisherNick,e.publishTime,e.content)}}},[s("i",{staticClass:"fa fa-info-circle",attrs:{"aria-hidden":"true"}}),t._v(" more ")])])])})),1)],1)])])]),s("footers"),t.model.open?[s("div",{staticClass:"modal fade bd-example-modal-lg",attrs:{id:"newsModal",tabindex:"-1",role:"dialog","aria-labelledby":"newsModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title",attrs:{id:"newsModalLabel"}},[t._v(t._s(t.model.title))]),t._m(2)]),s("div",{staticClass:"modal-body"},[s("small",[t._v(t._s(t.model.publisher)+" "),s("span",{staticClass:"wemd-green-text"},[t._v("▸ "+t._s(t.model.publishtime))])]),s("div",[s("p"),s("p",{domProps:{innerHTML:t._s(t.model.content)}}),s("p")])]),t._m(3)])])])]:t._e()],2)},i=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"carousel slide",attrs:{id:"CTGUACMOJFocusCarousel","data-ride":"carousel"}},[s("ol",{staticClass:"carousel-indicators"},[s("li",{staticClass:"active",attrs:{"data-target":"#CTGUACMOJFocusCarousel","data-slide-to":"0"}}),s("li",{attrs:{"data-target":"#CTGUACMOJFocusCarousel","data-slide-to":"1"}}),s("li",{attrs:{"data-target":"#CTGUACMOJFocusCarousel","data-slide-to":"2"}})]),s("div",{staticClass:"carousel-inner"},[s("div",{staticClass:"carousel-item active"},[s("a",{attrs:{href:"https://acm.njupt.edu.cn/contest/120",target:"_blank"}},[s("img",{staticClass:"d-block w-100",attrs:{src:"https://acm.njupt.edu.cn/static/img/carousel/phpandjs.png",alt:""}})])]),s("div",{staticClass:"carousel-item"},[s("a",{attrs:{href:"https://acm.njupt.edu.cn/problem/NOJ1001",target:"_blank"}},[s("img",{staticClass:"d-block w-100",attrs:{src:"https://acm.njupt.edu.cn/static/img/carousel/babel.png",alt:""}})])]),s("div",{staticClass:"carousel-item"},[s("a",{attrs:{href:"https://acm.njupt.edu.cn/babel",target:"_blank"}},[s("img",{staticClass:"d-block w-100",attrs:{src:"https://acm.njupt.edu.cn/static/img/carousel/201912monthly.png",alt:""}})])])]),s("a",{staticClass:"carousel-control-prev",attrs:{href:"#CTGUACMOJFocusCarousel",role:"button","data-slide":"prev"}},[s("span",{staticClass:"carousel-control-prev-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Previous")])]),s("a",{staticClass:"carousel-control-next",attrs:{href:"#CTGUACMOJFocusCarousel",role:"button","data-slide":"next"}},[s("span",{staticClass:"carousel-control-next-icon",attrs:{"aria-hidden":"true"}}),s("span",{staticClass:"sr-only"},[t._v("Next")])])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("p",{staticClass:"cm-anno"},[s("i",{staticClass:"fa fa-newspaper-o",attrs:{"aria-hidden":"true"}}),t._v(" Announcements ")])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])},function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-primary",attrs:{type:"button"}},[t._v("Save changes")])])}],o=s("be8f"),r=o["a"],l=(s("b179"),s("2877")),_=Object(l["a"])(r,n,i,!1,null,"75d6f7a8",null),c=_.exports,O=s("a925"),d=s("8c4f");a["a"].use(d["a"]);var u=[{path:"/",name:"login",meta:{title:"client 登录"}}],A=new d["a"]({mode:"history",routes:u}),E=s("edad"),h=s("2cd5");a["a"].config.productionTip=!1,a["a"].prototype.GLOBAL=E["a"],a["a"].use(O["a"]);var m=new O["a"]({locale:E["a"].OJ_DEFAULT_LANG,messages:h["a"].messages});new a["a"]({i18n:m,router:A,render:function(t){return t(c)}}).$mount("#app")},"7b3e":function(t,e,s){},b179:function(t,e,s){"use strict";var a=s("7b3e"),n=s.n(a);n.a},be8f:function(t,e,s){"use strict";(function(t){s("c975"),s("baa5"),s("d81d");var a=s("ff6f"),n=s("54a1"),i=s("2c4b"),o=s("2cd5");s("3495");e["a"]={name:"App",components:{Footers:i["a"],Loadings:n["a"],navbar:a["a"]},data:function(){return{page_belong:"index",page_setting:{access_token:"",refresh_token:"",language:""},news:"",model:{open:!1,title:"",publisher:"",publishtime:"",content:""}}},methods:{short_news:function(t){return t.length-1<130||(t=t.substr(0,130),t.lastIndexOf("<")+1>=t.length-5&&(t=t.substr(0,t.lastIndexOf("<")))),t},check_news:function(e,s,a,n){this.model.open=!0;var i=this;t(document).ready((function(){t("#newsModal").on("hidden.bs.modal",(function(){i.model.open=!1,t("#newsModal").off("hidden.bs.modal")}))})),this.model.title=e,this.model.publisher=s,this.model.publishtime=this.format_time(a),this.model.content=n,setTimeout((function(){t("#newsModal").modal()}),100)},diff_time:function(t){return t=o["a"].diff_time(t),console.log(t),t.year>=1?1==t.year?t.year+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_YEAR.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.year+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_YEAR.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.month>=1?1==t.month?t.month+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_MONTH.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.month+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_MONTH.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.week>=1?1==t.week?t.week+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_WEEK.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.week+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_WEEK.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.day>=1?1==t.day?t.day+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_DAY.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.day+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_DAY.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.hour>=1?1==t.hour?t.hour+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_HOUR.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.hour+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_HOUR.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.minute>=1?1==t.minute?t.minute+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_MINUTE.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.minute+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_MINUTE.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.second<=1?t.second+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_SECOND.ONE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO"):t.second+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_SECOND.MORE")+this.$t("WARN.OJ_MESSAGE_TIME_AGO.OJ_AGO")},format_time:function(t){return o["a"].format_time(t)},test:function(){this.model.open=!0,setTimeout((function(){t("#newsModal").modal()}),100)}},mounted:function(){this.page_setting.access_token=o["a"].getCookie(this.GLOBAL.OJ_DEFAULT_NAME+"access_token"),this.page_setting.refresh_token=o["a"].getCookie(this.GLOBAL.OJ_DEFAULT_NAME+"refresh_token"),console.log(this.page_setting.access_token);var e=localStorage.getItem(this.GLOBAL.OJ_DEFAULT_NAME+"lang");null!=e&&(this.page_setting.language=e),t(".carousel").carousel(),this.$http.post(this.GLOBAL.OJ_DEFAULT_BACK_SERVE+"/index",{language:this.page_setting.language},{emulateJSON:!0,headers:{OJ_ACCESS_TOKEN:this.page_setting.access_token,OJ_REFRESH_TOKEN:this.page_setting.refresh_token}}).then((function(t){console.log(t),this.news=t.body.OJ_NEWS;var s=t.body.OJ_ERROR_TYPE;if(s==this.GLOBAL.OJ_ERROR_NO_ERROR){var a=t.body.OJ_USER_INFO.saved,n=t.headers.map["oj_access_token"][0],i=t.headers.map["oj_refresh_token"][0];t.body.OJ_USER_INFO.role.indexOf(this.GLOBAL.OJ_ROLE_ADMIN)||t.body.OJ_USER_INFO.role.indexOf(this.GLOBAL.OJ_ROLE_SUPER_ADMIN)||t.body.OJ_USER_INFO.role.indexOf(this.GLOBAL.OJ_ROLE_PROBLEM_ADMIN)?o["a"].init_account_controller(this.GLOBAL.OJ_GROUP_NORMAL_ADMIN):o["a"].init_account_controller(this.GLOBAL.OJ_GROUP_NORMAL_USER),a?(o["a"].setCookieWithTime(this.GLOBAL.OJ_DEFAULT_NAME+"access_token",n,7),o["a"].setCookieWithTime(this.GLOBAL.OJ_DEFAULT_NAME+"refresh_token",i,7)):(o["a"].setCookie(this.GLOBAL.OJ_DEFAULT_NAME+"access_token",n),o["a"].setCookie(this.GLOBAL.OJ_DEFAULT_NAME+"refresh_token",i))}else s==this.GLOBAL.OJ_ERROR_NOT_LOGIN&&o["a"].init_account_controller(this.GLOBAL.OJ_GROUP_NORMAL_VISITOR);e=t.body.OJ_LANGUAGE_TYPE,localStorage.setItem(this.GLOBAL.OJ_DEFAULT_NAME+"lang",e),this.$i18n.locale=e}),(function(){console.log("请求失败处理")}))},created:function(){}}}).call(this,s("1157"))}});
//# sourceMappingURL=index.c1eba70d.js.map